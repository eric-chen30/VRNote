# 操作规范

目录结构使用说明

![image-20220717174225277](E:\Learn\Unreal\Note\assets\image-20220717174225277.png)



# 系统设置

## **修改默认地图**

![image-20220717173758459](E:\Learn\Unreal\Note\assets\image-20220717173758459.png)



## 给模型添加碰撞

选中模型之后按ctrl+e进入蓝图编辑

![image-20220811180332527](assets/image-20220811180332527.png)

点击碰撞，选自动凸包碰撞

![image-20220811180424693](assets/image-20220811180424693.png)

![image-20220811180648700](assets/image-20220811180648700.png)

根据想要的精度选择对应的数值即可



# 角色控制

## 操作映射

![image-20220812101602214](assets/image-20220812101602214.png)

## 放置角色

将角色蓝图放置在场景中之后，选中角色，在细节栏中找到自动控制玩家，将其改成玩家0即可

![image-20220809161821888](assets/image-20220809161821888.png)



## 控制摄像机

选中角色，按Ctrl+E进入蓝图编辑界面，修改cameraBoom的插槽偏移即可

![image-20220809162017010](assets/image-20220809162017010.png)



## 角色移动

选中角色，按Ctrl+E进入蓝图编辑界面，点击角色移动，修改细节栏即可

![image-20220809162136323](assets/image-20220809162136323.png)



## 显示鼠标光标

修改人物蓝图，添加如下事件

![image-20220811230419883](assets/image-20220811230419883.png)



## 滚轮控制摄像机

通过鼠标滚轮来控制摄像机的远近，同时限制最大和最小的距离

目标臂长度的变量名叫做TargetArmLength，目前没有中文翻译

![image-20220811232253093](assets/image-20220811232253093.png)

# 蓝图

蓝图主要包含**视口**和**事件图表**两部分

在视口中可以添加一些组件，比如文本或者盒体碰撞器等等，然后在视口空间内编辑这些组件

点击组件后可以右键选择添加事件，或者直接在右边的细节栏中选择添加

![image-20220717181545536](assets/image-20220717181545536.png)

添加完相应的组件后，可以在事件图表中找到它，并添加一些操作

## 文字变化

下面是一个简易的蓝图，当人物进入指定空间内时，空间内的文字会发生变化

视口如下

![image-20220717181851095](assets/image-20220717181851095.png)

事件图表如下

![image-20220717181805325](assets/image-20220717181805325.png)



## 触发火焰

首先在视口空间里添加3个组件：球体（sphere）、粒子系统组件、盒体碰撞器（Box collision）

给球体添加一个木头的材质，然后在粒子系统的模板中选用火焰模板，并将火焰调整到合适的位置，大致效果如下

![image-20220809155532297](assets/image-20220809155532297.png)

调整完毕之后将粒子系统的可视关掉![image-20220809155609401](assets/image-20220809155609401.png)

选中Box collision，添加相应事件，具体如下

![image-20220809155738664](assets/image-20220809155738664.png)

把这个蓝图拖到场景中，运行起来就可以看到效果了

![image-20220809155904862](assets/image-20220809155904862.png)



## 添加注释

在蓝图中左键框选对应的代码，然后按C，即可添加注释

![image-20220811230704153](assets/image-20220811230704153.png)



## 输出存活时间

在角色的蓝图中添加Tick事件，该事件每帧都会被调用

添加一个LifeSeconds浮点类型的变量，编写下图所示的蓝图

![image-20220811231122902](assets/image-20220811231122902.png)

运行效果

![image-20220811231403532](assets/image-20220811231403532.png)



## 超级跳(带冷却)

添加一个SuperJump的操作映射

![image-20220812102838901](assets/image-20220812102838901.png)

蓝图如下

![image-20220812103447050](assets/image-20220812103447050.png)



## 点击事件(时间线)

**实现效果：鼠标点击后，操纵杆自动开或者关**

在人物蓝图中启用鼠标点击事件（EnableClickEvent）和屏幕触控事件(EnableTouchEvent)

![image-20220813120736885](assets/image-20220813120736885.png)

创建一个蓝图，添加操纵杆模型

![image-20220813121728537](assets/image-20220813121728537.png)

创建一个时间轴，添加浮点型轨道

![image-20220813121312098](assets/image-20220813121312098.png)

将轨道名改成alpha，在轨道中添加两个关键帧，分别是（0,0）和（0.5,1），并选中使用最后一个关键帧

![image-20220813121443494](assets/image-20220813121443494.png)

右键操纵杆，添加鼠标点击事件

![image-20220813121835150](assets/image-20220813121835150.png)

其他蓝图的实现如下

![image-20220813121946222](assets/image-20220813121946222.png)

Flip Flop的实现效果是，第一次点击会走A，第二次点击会走B，如此反复

时间轴中的Play from Start是将时间轴正向运行，Reverse from End是反向运行

插值的作用是让运动更平滑

# 视觉效果

## 指数级高度雾

给整个场景添加一层雾气

![image-20220811181949871](assets/image-20220811181949871.png)

可通过雾密度和雾高度衰减来调整雾的浓度

通过雾内散射颜色来调整雾的颜色

体积雾可以让光发生一定的反射折射效果，让雾更真实

如果此时给定向光源加上光束遮挡的效果，就可以实现体积光（丁达尔效应）



## 后期处理体积

可以指定某一范围内的后期处理，也可以选择全场处理

![image-20220811195814415](assets/image-20220811195814415.png)

Bloom是用来调整光强的

![image-20220811195856030](assets/image-20220811195856030.png)

Exposure是用来调整曝光的

![image-20220811200058722](assets/image-20220811200058722.png)

Chromatic Aberration产生色差畸变现象

![image-20220811200412556](assets/image-20220811200412556.png)

Dirt Mask在镜头前添加一层蒙版

![image-20220811200457132](assets/image-20220811200457132.png)

Image Effects修改边角明暗

![image-20220811200715781](assets/image-20220811200715781.png)

可以在**颜色分级**中调整色彩饱和度、对比度等数值，可以对全局、阴影、中间调、高光等等部分进行分别操作

![image-20220811200920254](assets/image-20220811200920254.png)



## 粒子特效

### 灰尘

创建一个FXs文件夹，在里面创建Niagara系统

![image-20220811201210504](assets/image-20220811201210504.png)

![image-20220811201225941](assets/image-20220811201225941.png)

![image-20220811201313511](assets/image-20220811201313511.png)

将发射器属性改成GPU

![image-20220811201612284](assets/image-20220811201612284.png)

修改粒子数量

![image-20220811201721093](assets/image-20220811201721093.png)

将这个粒子系统文件拖入场景中（）

![image-20220811201838593](assets/image-20220811201838593.png)

修改粒子的范围，将整个系统扩大

![image-20220811202001305](assets/image-20220811202001305.png)

让粒子发光，只需要让rgb的值大于1就可以了

![image-20220811202356438](assets/image-20220811202356438.png)

![image-20220811202426254](assets/image-20220811202426254.png)



# 声音

## 空间化

通过空间化和衰减，可以让玩家在声源范围内听到声音，并有一定的衰减过程。超出范围则没有声音

![image-20220811214134464](assets/image-20220811214134464.png)



# 材质

## 延迟贴花

将材质域设为延迟贴花，然后混合模式设为半透明，如果贴图有白色背景的话，可以将A连接到不透明度

![image-20220811220905776](assets/image-20220811220905776.png)

然后就可以将这个贴花附着在地面上了

![image-20220811221051829](assets/image-20220811221051829.png)



## 取消接受贴花

有时候贴花会染到模型上面，可以选择取消接受贴花

如果是人物的话，点进蓝图，然后选择网格体，选择取消贴花即可

![image-20220811221249411](assets/image-20220811221249411.png)



## 制作法线贴图

使用PS即可自动制作法线贴图

![image-20220811221611496](assets/image-20220811221611496.png)

