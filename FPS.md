本教程将从头开始制作一个FPS游戏

使用到的Unreal版本是5.0.x



# 场景配置

## 导入素材

在虚幻市场中下载这个场景，并将之添加到初始项目里

![image-20220929221412057](assets/image-20220929221412057.png)

将示例场景中的Demo_Scene复制到自己创建的Maps文件夹中，取名为FPS_Level

**![image-20220929222026912](assets/image-20220929222026912.png)**

打开这个地图的关卡蓝图

![image-20220929222101289](assets/image-20220929222101289.png)

把下面这一段都删掉

![image-20220929222136688](assets/image-20220929222136688.png)

然后把这个电影序列也删掉

![image-20220929222157999](assets/image-20220929222157999.png)



## 创建天空

首先把目前几个能发光的都删掉

![image-20220929222624080](assets/image-20220929222624080.png)

添加天空大气和定向光源

![image-20220929222914195](assets/image-20220929222914195.png)

![image-20220929222923706](assets/image-20220929222923706.png)

再放一个天空盒进来

![image-20220929223331617](assets/image-20220929223331617.png)

加点云进来

![image-20220929223437850](assets/image-20220929223437850.png)

把天空盒链接上自己的定向光源

![image-20220929223542051](assets/image-20220929223542051.png)

还可以调星星的亮度

![image-20220929223705635](assets/image-20220929223705635.png)

如果此时你按ctrl+L，把太阳放下去，会发现整个场景一片漆黑，此时就说明需要加一个天光进来

![image-20220929223849803](assets/image-20220929223849803.png)

把太阳放下去，让天空变暗，然后调大天光的强度范围

![image-20220929224234796](assets/image-20220929224234796.png)

找到全局后期处理体积，把lens flares的强度取消，这样镜头前就不会出现光晕

![image-20220929224611571](assets/image-20220929224611571.png)

取消自动曝光

![image-20220929225025841](assets/image-20220929225025841.png)

复制一下外面的地面，把胡同口堵住，形成一堵墙

![image-20220929225715703](assets/image-20220929225715703.png)



## 添加素材

再添加两个资源到项目里

![image-20220929232028270](assets/image-20220929232028270.png)

![image-20220929232042549](assets/image-20220929232042549.png)

整理一下文件结构

![image-20220929235340280](assets/image-20220929235340280.png)

删掉多余资产

![image-20220929235939416](assets/image-20220929235939416.png)

![image-20220930201207579](assets/image-20220930201207579.png)

![image-20220930201331698](assets/image-20220930201331698.png)

![image-20220930201421579](assets/image-20220930201421579.png)

打开这个网格体

**![image-20220930201625663](assets/image-20220930201625663.png)**

![image-20220930201650477](assets/image-20220930201650477.png)

创建一个文件夹

![image-20220930201834612](assets/image-20220930201834612.png)

移动文件夹

![image-20220930201901213](assets/image-20220930201901213.png)

![image-20220930201945212](assets/image-20220930201945212.png)

你会发现就算移过去，这个文件夹还是存在，这是由于重定向的一些问题，我们需要修复它

![image-20220930202231291](assets/image-20220930202231291.png)

下面的ParagonLtBelica也是一样，这两个文件夹修复完之后就可以直接删掉了

这是最终的项目目录

![image-20220930202401339](assets/image-20220930202401339.png)



## 人物塑造

创建如下目录，并创建一个角色蓝图

![image-20220930204737677](assets/image-20220930204737677.png)

添加一个摄像机

![image-20220930223920474](assets/image-20220930223920474.png)

选中网格体，并调整到合适的位置

![image-20220930223956244](assets/image-20220930223956244.png)

编译保存之后，把这个角色蓝图拖到场景里，设置自动控制玩家

![image-20220930222154552](assets/image-20220930222154552.png)



### 角色控制

**控制角色的位置移动**

打开项目设置，添加输入事件

![image-20220930225402623](assets/image-20220930225402623.png)

在FPS_Character中编写如下蓝图

![image-20220930225425752](assets/image-20220930225425752.png)

编译运行，你就可以用键盘控制玩家的移动了



**控制角色的视角**

![image-20220930230159102](assets/image-20220930230159102.png)

![image-20220930230210990](assets/image-20220930230210990.png)

![image-20220930230422098](assets/image-20220930230422098.png)
