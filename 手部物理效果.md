# 手部物理效果

首先打开VRPawn，把设备和右手的可视关掉

![image-20220919213934935](assets/image-20220919213934935-16639503696181.png)

在左手上新建一个样条组件，并命名为L_ThumbArc

![image-20220919224632201](assets/image-20220919224632201-16639503708332.png)

在这根样条线上右键，添加一个样条点

![image-20220920223419083](assets/image-20220920223419083-16639503721803.png)

给三个样条点配置属性（注意关键帧）

![image-20220920223500804](assets/image-20220920223500804-16639503734774.png)

![image-20220920223508240](assets/image-20220920223508240-16639503747285.png)

![image-20220920223518988](assets/image-20220920223518988-16639503762276.png)

然后复制粘贴这个样条组件，命名为L_MiddleArc，在L_MiddleArc上再加一个样条点，一共四个点，属性分别如下

![image-20220920223629276](assets/image-20220920223629276-16639503796247.png)

![image-20220920223634517](assets/image-20220920223634517-16639503811678.png)

![image-20220920223640436](assets/image-20220920223640436-16639503822929.png)

![image-20220920223647549](assets/image-20220920223647549-166395038376210.png)

然后继续复制粘贴L_MiddleArc，命名为L_IndexArc，四个样条组件的属性如下

![image-20220920223729004](assets/image-20220920223729004-166395038688911.png)

![image-20220920223734237](assets/image-20220920223734237-166395038784012.png)

![image-20220920223739301](assets/image-20220920223739301-166395038924713.png)

![image-20220920223745302](assets/image-20220920223745302-166395039129514.png)

继续复制粘贴L_RingArc，命名为L_RingArc，四个样条组件的属性如下

![image-20220920223803357](assets/image-20220920223803357-166395039451015.png)

![image-20220920223808879](assets/image-20220920223808879-166395039541016.png)

![image-20220920223814068](assets/image-20220920223814068-166395039676517.png)

![image-20220920223819238](assets/image-20220920223819238-166395039939318.png)

继续复制粘贴L_PinkyArc，命名为L_PinkyArc，四个样条组件的属性如下

![image-20220920223839253](assets/image-20220920223839253-166395040037319.png)

![image-20220920223843956](assets/image-20220920223843956-166395040208320.png)

![image-20220920223848877](assets/image-20220920223848877-166395040416921.png)

![image-20220920223853492](assets/image-20220920223853492-166395040518022.png)

然后把这五个样条组件拖到LeftHand下面

![image-20220920223918764](assets/image-20220920223918764-166395040860323.png)

再分别配置他们的位置旋转和缩放

![image-20220920223940637](assets/image-20220920223940637-166395040992524.png)

![image-20220920223950652](assets/image-20220920223950652-166395041117425.png)

![image-20220920224000582](assets/image-20220920224000582-166395041336126.png)

![image-20220920224008581](assets/image-20220920224008581-166395041478527.png)

![image-20220920224016372](assets/image-20220920224016372-166395041593528.png)

搞完之后是这么个效果

![image-20220920224038669](assets/image-20220920224038669-166395041741229.png)

然后把样条复制到右手这边来，并改名

![image-20221007120748552](assets/image-20221007120748552.png)

如果发现样条都乱了，就再把对应的位置旋转和缩放也复制过来

最后大概是这么个样子

![image-20221007121052192](assets/image-20221007121052192.png)



接着创建两个变量

![image-20221007152617001](assets/image-20221007152617001.png)

![image-20221007152859846](assets/image-20221007152859846.png)

当用户拿起东西时，就设置对应的原始组件

![image-20221007153941168](assets/image-20221007153941168.png)

![image-20221007153955114](assets/image-20221007153955114.png)

放下时就设为空

![image-20221007154355555](assets/image-20221007154355555.png)

创建一个结构，命名为Finger_Data

![image-20221007154427963](assets/image-20221007154427963.png)

![image-20221007154541234](assets/image-20221007154541234.png)

在VRPawn中添加如下变量，注意类别

其中FingerSteps的默认值为4

![image-20221007160454329](assets/image-20221007160454329.png)





创建一个函数GetFingerSteps

在函数GetFingerSteps中创建两个局部变量

![image-20221007161613294](assets/image-20221007161613294.png)

蓝图如下

![image-20221007161637914](assets/image-20221007161637914.png)





创建函数Trace Finger Segement

创建局部变量

![image-20221007163646233](assets/image-20221007163646233.png)

蓝图如下（有点长，分两段截取）

![image-20221007163727421](assets/image-20221007163727421.png)

![image-20221007163747195](assets/image-20221007163747195.png)



在VRPawn中创建一个新的图表，FingerAnimationGraph

![image-20221007171956880](assets/image-20221007171956880.png)

创建自定义事件R_TraceFingerData 和 L_TraceFingerData

![image-20221007172051456](assets/image-20221007172051456.png)

![image-20221007172110156](assets/image-20221007172110156.png)

创建自定义事件Setup Finger Anim Data（截图不全，但都是重复性代码，可自行补全

![image-20221007172224642](assets/image-20221007172224642.png)

在VRPawn运行之初调用

![image-20221007172333574](assets/image-20221007172333574.png)

在GrabComponent的Try Grab中调用

**![image-20221007172301884](assets/image-20221007172301884.png)**





![image-20221007173407325](assets/image-20221007173407325.png)

![image-20221007173448987](assets/image-20221007173448987.png)



修改BP_HandAnim

![image-20221007174638939](assets/image-20221007174638939.png)

![image-20221007191832549](assets/image-20221007191832549.png)
